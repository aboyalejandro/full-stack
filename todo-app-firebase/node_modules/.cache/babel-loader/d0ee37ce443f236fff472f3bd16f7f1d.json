{"ast":null,"code":"import _toConsumableArray from\"/Users/alejandroaboy/todo-app-firebase/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/alejandroaboy/todo-app-firebase/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import Todo from'./Todo';import React,{useEffect,useState}from'react';import{Button,FormControl,InputLabel,Input}from'@material-ui/core';import db from'./firebase';import firebase from\"firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];// console.log(input)\nuseEffect(function(){db.collection('todos').orderBy('timestamp','desc').onSnapshot(function(snapshot){// console.log(snapshot.docs.map(doc => doc.data().todo))\nsetTodos(snapshot.docs.map(function(doc){return doc.data().todo;}));});},[]);var addTodo=function addTodo(event){event.preventDefault();db.collection('todos').add({todo:input,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setTodos([].concat(_toConsumableArray(todos),[input]));setInput('');// console.log(todos)\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Hello world\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Write a Todo\"}),/*#__PURE__*/_jsx(Input,{value:input,onChange:function onChange(event){return setInput(event.target.value);}})]}),/*#__PURE__*/_jsx(Button,{disabled:!input,type:\"submit\",onClick:addTodo,variant:\"container\",color:\"primary\",children:\"Add Todo\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:todos.map(function(todo){return/*#__PURE__*/_jsx(Todo,{text:todo})// <li>{todo}</li>\n;})})]});}export default App;","map":{"version":3,"sources":["/Users/alejandroaboy/todo-app-firebase/src/App.js"],"names":["Todo","React","useEffect","useState","Button","FormControl","InputLabel","Input","db","firebase","App","todos","setTodos","input","setInput","collection","orderBy","onSnapshot","snapshot","docs","map","doc","data","todo","addTodo","event","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","target","value"],"mappings":"0PAAA,MAAO,WAAP,CACA,MAAOA,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,MAAR,CAAgBC,WAAhB,CAA6BC,UAA7B,CAAyCC,KAAzC,KAAqD,mBAArD,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CAEb,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAA0BT,QAAQ,CAAC,EAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eACA;AACAZ,SAAS,CAAC,UAAM,CACdM,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,WAA/B,CAA4C,MAA5C,EAAoDC,UAApD,CAA+D,SAAAC,QAAQ,CAAI,CACzE;AACAN,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,GAAWC,IAAf,EAArB,CAAD,CAAR,CACD,CAHD,EAID,CALQ,CAKN,EALM,CAAT,CAQA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzBA,KAAK,CAACC,cAAN,GACAlB,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBY,GAAvB,CAA2B,CACzBJ,IAAI,CAAEV,KADmB,CAEzBe,SAAS,CAAEnB,QAAQ,CAACoB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFc,CAA3B,EAIAnB,QAAQ,8BAAKD,KAAL,GAAYE,KAAZ,GAAR,CACAC,QAAQ,CAAC,EAAD,CAAR,CACA;AACD,CATD,CAWA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,mCADF,cAEE,qCACE,MAAC,WAAD,yBACE,KAAC,UAAD,2BADF,cAEE,KAAC,KAAD,EAAO,KAAK,CAAED,KAAd,CAAqB,QAAQ,CAAE,kBAAAY,KAAK,QAAIX,CAAAA,QAAQ,CAACW,KAAK,CAACO,MAAN,CAAaC,KAAd,CAAZ,EAApC,EAFF,GADF,cAME,KAAC,MAAD,EAAQ,QAAQ,CAAE,CAACpB,KAAnB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,OAAO,CAAEW,OAAjD,CAA0D,OAAO,CAAC,WAAlE,CAA8E,KAAK,CAAC,SAApF,sBANF,GAFF,cAYE,oBACGb,KAAK,CAACS,GAAN,CAAU,SAAAG,IAAI,qBACb,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EACA;AAFa,EAAd,CADH,EAZF,GADF,CAqBD,CAED,cAAeb,CAAAA,GAAf","sourcesContent":["import './App.css';\nimport Todo from './Todo';\nimport React, {useEffect, useState} from 'react';\nimport {Button, FormControl, InputLabel, Input} from '@material-ui/core'\nimport db from './firebase'\nimport firebase from \"firebase\"\n\nfunction App() {\n\n  const [todos, setTodos] = useState([]);\n  const [input, setInput] = useState('');\n  // console.log(input)\n  useEffect(() => {\n    db.collection('todos').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n      // console.log(snapshot.docs.map(doc => doc.data().todo))\n      setTodos(snapshot.docs.map(doc => doc.data().todo))\n    })\n  }, [])\n\n\n  const addTodo = (event) => {\n    event.preventDefault(); \n    db.collection('todos').add({\n      todo: input,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp() \n    })\n    setTodos([...todos, input]);\n    setInput('');\n    // console.log(todos)\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Hello world</h1>\n      <form>\n        <FormControl>\n          <InputLabel>Write a Todo</InputLabel>\n          <Input value={input} onChange={event => setInput(event.target.value)}/>\n        </FormControl>\n        \n        <Button disabled={!input} type=\"submit\" onClick={addTodo} variant=\"container\" color=\"primary\">\n          Add Todo\n          </Button>\n      </form>\n      <ul>\n        {todos.map(todo => (\n          <Todo text={todo}/>\n          // <li>{todo}</li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}