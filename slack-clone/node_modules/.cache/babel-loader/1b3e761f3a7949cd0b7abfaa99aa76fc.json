{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/alejandroaboy/slack-clone/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/alejandroaboy/slack-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;import React,{useRef,useState}from'react';import styled from\"styled-components\";import{Button}from\"@material-ui/core\";import{db}from\"../../firebase\";import firebase from\"firebase\";import{auth}from\"../../firebase\";import{useAuthState}from\"react-firebase-hooks/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChatInput(_ref){var ChannelName=_ref.ChannelName,channelId=_ref.channelId,chatRef=_ref.chatRef;var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,1),user=_useAuthState2[0];// const inputRef = useRef(null);\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];console.log(channelId);var sendMessage=function sendMessage(e){e.preventDefault();if(!channelId){return false;}db.collection('rooms').doc(channelId).collection('messages').add({message:input,// message: input.current.value\ntimestamp:firebase.firestore.FieldValue.serverTimestamp(),user:user.displayName,userImage:user.photoURL// userImage: \"\"\n});chatRef.current.scrollIntoView({behavior:\"smooth\"});setInput(\"\");};return/*#__PURE__*/_jsx(ChatInputContainer,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:function onChange(e){return setInput(e.target.value);}// ref={inputRef}\n,placeholder:\"Message #\".concat(ChannelName)}),/*#__PURE__*/_jsx(Button,{hidden:true,type:\"submit\",onClick:sendMessage,children:\"SEND\"})]})});}export default ChatInput;var ChatInputContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    border-radius: 20px;\\n\\n    > form {\\n        position: relative;\\n        display: flex;\\n        justify-content: center;\\n    }\\n\\n    > form > input {\\n        position: fixed;\\n        bottom: 30px;\\n        width: 60%;\\n        border: 1px solid gray;\\n        border-radius: 3px;\\n        padding: 28px;\\n        outline: none;\\n    }\\n\\n    > form > button {\\n        display: none !important;\\n    }\\n\\n\"])));","map":{"version":3,"sources":["/Users/alejandroaboy/slack-clone/src/app/components/ChatInput.js"],"names":["React","useRef","useState","styled","Button","db","firebase","auth","useAuthState","ChatInput","ChannelName","channelId","chatRef","user","input","setInput","console","log","sendMessage","e","preventDefault","collection","doc","add","message","timestamp","firestore","FieldValue","serverTimestamp","displayName","userImage","photoURL","current","scrollIntoView","behavior","target","value","ChatInputContainer","div"],"mappings":"0QAAA,MAAOA,CAAAA,KAAP,EAAeC,MAAf,CAAuBC,QAAvB,KAAsC,OAAtC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAAQC,MAAR,KAAqB,mBAArB,CACA,OAAQC,EAAR,KAAiB,gBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAAQC,IAAR,KAAmB,gBAAnB,CACA,OAAQC,YAAR,KAA2B,2BAA3B,C,wFAEA,QAASC,CAAAA,SAAT,MAAsD,IAAlCC,CAAAA,WAAkC,MAAlCA,WAAkC,CAArBC,SAAqB,MAArBA,SAAqB,CAAVC,OAAU,MAAVA,OAAU,CAClD,kBAAeJ,YAAY,CAACD,IAAD,CAA3B,gDAAOM,IAAP,mBACA;AACA,cAA0BX,QAAQ,CAAC,EAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACAC,OAAO,CAACC,GAAR,CAAYN,SAAZ,EAEA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,CAAC,CAAI,CACrBA,CAAC,CAACC,cAAF,GAEA,GAAI,CAACT,SAAL,CAAgB,CACZ,MAAO,MAAP,CACH,CAEDN,EAAE,CAACgB,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BX,SAA3B,EAAsCU,UAAtC,CAAiD,UAAjD,EACCE,GADD,CACK,CACDC,OAAO,CAAEV,KADR,CAED;AACAW,SAAS,CAAEnB,QAAQ,CAACoB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAHV,CAIDf,IAAI,CAAEA,IAAI,CAACgB,WAJV,CAKDC,SAAS,CAAEjB,IAAI,CAACkB,QAChB;AANC,CADL,EAUAnB,OAAO,CAACoB,OAAR,CAAgBC,cAAhB,CAA+B,CAC3BC,QAAQ,CAAE,QADiB,CAA/B,EAIAnB,QAAQ,CAAC,EAAD,CAAR,CAEH,CAvBD,CAyBA,mBACI,KAAC,kBAAD,wBACI,qCACI,cACI,KAAK,CAAID,KADb,CAEI,QAAQ,CAAE,kBAAAK,CAAC,QAAIJ,CAAAA,QAAQ,CAACI,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAZ,EACX;AAHJ,CAII,WAAW,oBAAc1B,WAAd,CAJf,EADJ,cAOI,KAAC,MAAD,EAAQ,MAAM,KAAd,CAAe,IAAI,CAAC,QAApB,CAA6B,OAAO,CAAEQ,WAAtC,kBAPJ,GADJ,EADJ,CAeH,CAED,cAAeT,CAAAA,SAAf,CAEA,GAAM4B,CAAAA,kBAAkB,CAAGlC,MAAM,CAACmC,GAAV,meAAxB","sourcesContent":["import React, {useRef, useState} from 'react'\nimport styled from \"styled-components\"\nimport {Button} from \"@material-ui/core\"\nimport {db} from \"../../firebase\"\nimport firebase from \"firebase\"\nimport {auth} from \"../../firebase\"\nimport {useAuthState} from \"react-firebase-hooks/auth\"\n\nfunction ChatInput({ChannelName, channelId, chatRef}) {\n    const [user] = useAuthState(auth);\n    // const inputRef = useRef(null);\n    const [input, setInput] = useState(\"\")\n    console.log(channelId)\n\n    const sendMessage = e => {\n        e.preventDefault();\n\n        if (!channelId) {\n            return false;\n        }\n\n        db.collection('rooms').doc(channelId).collection('messages')\n        .add({\n            message: input,\n            // message: input.current.value\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            user: user.displayName,\n            userImage: user.photoURL,\n            // userImage: \"\"\n        });\n\n        chatRef.current.scrollIntoView({\n            behavior: \"smooth\",\n        });\n\n        setInput(\"\")\n\n    };\n\n    return (\n        <ChatInputContainer>\n            <form>\n                <input\n                    value = {input}\n                    onChange={e => setInput(e.target.value)}\n                    // ref={inputRef}\n                    placeholder={`Message #${ChannelName}`}\n                />\n                <Button hidden type=\"submit\" onClick={sendMessage}> \n                    SEND \n                </Button>\n            </form>\n        </ChatInputContainer>\n    )\n}\n\nexport default ChatInput\n\nconst ChatInputContainer = styled.div`\n    border-radius: 20px;\n\n    > form {\n        position: relative;\n        display: flex;\n        justify-content: center;\n    }\n\n    > form > input {\n        position: fixed;\n        bottom: 30px;\n        width: 60%;\n        border: 1px solid gray;\n        border-radius: 3px;\n        padding: 28px;\n        outline: none;\n    }\n\n    > form > button {\n        display: none !important;\n    }\n\n`"]},"metadata":{},"sourceType":"module"}